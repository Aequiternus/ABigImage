(function(c){c.fn.abigimage=function(q){var f=c.extend(true,c.fn.abigimage.defaults,q);this.overlay=c("<div>").attr(f.overlayAttrs).css(f.overlayCSS).appendTo("body"),this.layout=c("<div>").attr(f.layoutAttrs).css(f.layoutCSS).appendTo("body"),this.wrapper=c("<div>").attr(f.wrapperAttrs).css(f.wrapperCSS).appendTo(this.layout),this.box=c("<div>").attr(f.boxAttrs).css(f.boxCSS).appendTo(this.wrapper),this.prevBtn=c("<div>").attr(f.prevBtnAttrs).css(f.prevBtnCSS).appendTo(this.box).html(f.prevBtnHtml),this.body=c("<div>").attr(f.bodyAttrs).css(f.bodyCSS).appendTo(this.box),this.closeBtn=c("<div>").attr(f.closeBtnAttrs).css(f.closeBtnCSS).appendTo(this.box).html(f.nextBtnHtml),this.top=c("<div>").attr(f.topAttrs).css(f.topCSS).appendTo(this.body),this.img=c("<img>").attr(f.imgAttrs).css(f.imgCSS).appendTo(this.body),this.imgNext=c("<img>").attr(f.imgNextAttrs).css(f.imgNextCSS).appendTo(this.body),this.imgPrev=c("<img>").attr(f.imgPrevAttrs).css(f.imgPrevCSS).appendTo(this.body),this.bottom=c("<div>").attr(f.bottomAttrs).css(f.bottomCSS).appendTo(this.body);var p=this,m=0,j=null;function n(){var i=j+1;if(i===p.length){i=0}return i}function g(){var i=j-1;if(i===-1){i=p.length-1}return i}function o(){m=0;p.overlay.fadeOut(f.fadeOut);p.layout.fadeOut(f.fadeOut);return false}function l(){++m;return k(n())}function h(){--m;return k(g())}function k(i){if(i<0||i>p.length-1){return}j=i;p.img.attr("src",c(p[j]).attr("href"));if(m===p.length-1){p.img.unbind("click").click(function(){return o()})}else{p.imgNext.attr("src",c(p[n()]).attr("href"));p.img.unbind("click").click(function(){return l()})}if(m===1-p.length){p.prevBtn.unbind("click").click(function(){return o()})}else{p.imgPrev.attr("src",c(p[g()]).attr("href"));p.prevBtn.unbind("click").click(function(){return h()})}p.overlay.fadeIn(f.fadeIn);p.layout.fadeIn(f.fadeIn);p.layout.css({top:c(document).scrollTop()+"px",height:c(window).height()+"px"});f.onopen.call(p,p[j]);return false}this.closeBtn.click(function(){return o()});this.closeBtn.hover(function(){c(this).css(f.closeBtnHoverCSS)},function(){c(this).css(f.closeBtnCSS)});this.prevBtn.hover(function(){c(this).css(f.prevBtnHoverCSS)},function(){c(this).css(f.prevBtnCSS)});return this.each(function(r){c(this).click(function(){return k(r)})})};var b={color:"#808080",display:"table-cell",verticalAlign:"middle",textAlign:"center",fontSize:"2em",fontWeight:"bold",cursor:"pointer",padding:".75em"},a={color:"#c0c0c0"},e={position:"absolute",top:"-10000px",width:"100px"},d={color:"#c0c0c0"};c.fn.abigimage.defaults={fadeIn:"normal",fadeOut:"fast",prevBtnHtml:"◄",nextBtnHtml:"✖",onopen:function(){},overlayCSS:{backgroundColor:"#404040",zIndex:2,position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none"},layoutCSS:{zIndex:2,position:"absolute",top:0,left:0,width:"100%",margin:"0 auto",display:"none","-webkit-user-select":"none","-moz-user-select":"none","user-select":"none"},wrapperCSS:{display:"table",width:"100%",height:"100%"},boxCSS:{display:"table-row"},bodyCSS:{display:"table-cell",verticalAlign:"middle",textAlign:"center",width:"1%"},prevBtnCSS:b,prevBtnHoverCSS:a,closeBtnCSS:b,closeBtnHoverCSS:a,imgCSS:{maxWidth:"800px",cursor:"pointer",display:"block",margin:"1ex 0"},imgNextCSS:e,imgPrevCSS:e,topCSS:d,bottomCSS:d,overlayAttrs:{},layoutAttrs:{},wrapperAttrs:{},boxAttrs:{},bodyAttrs:{},prevBtnAttrs:{},closeBtnAttrs:{},imgAttrs:{},imgNextAttrs:{},imgPrevAttrs:{},topAttrs:{},bottomAttrs:{}}}(jQuery));