(function(c){c.fn.abigimage=function(r){var f=c.extend(true,c.fn.abigimage.defaults,r);this.overlay=c("<div>").attr(f.overlayAttrs).css(f.overlayCSS).appendTo("body"),this.layout=c("<div>").attr(f.layoutAttrs).css(f.layoutCSS).appendTo("body"),this.wrapper=c("<div>").attr(f.wrapperAttrs).css(f.wrapperCSS).appendTo(this.layout),this.box=c("<div>").attr(f.boxAttrs).css(f.boxCSS).appendTo(this.wrapper),this.prevBtn=c("<div>").attr(f.prevBtnAttrs).css(f.prevBtnCSS).appendTo(this.box).html(f.prevBtnHtml),this.body=c("<div>").attr(f.bodyAttrs).css(f.bodyCSS).appendTo(this.box),this.closeBtn=c("<div>").attr(f.closeBtnAttrs).css(f.closeBtnCSS).appendTo(this.box).html(f.closeBtnHtml),this.top=c("<div>").attr(f.topAttrs).css(f.topCSS).appendTo(this.body),this.img=c("<img>").attr(f.imgAttrs).css(f.imgCSS).appendTo(this.body),this.imgNext=c("<img>").attr(f.imgNextAttrs).css(f.imgNextCSS).appendTo(this.body),this.imgPrev=c("<img>").attr(f.imgPrevAttrs).css(f.imgPrevCSS).appendTo(this.body),this.bottom=c("<div>").attr(f.bottomAttrs).css(f.bottomCSS).appendTo(this.body);var q=this,m=0,j=null;function n(){var i=j+1;if(i===q.length){i=0}return i}function g(){var i=j-1;if(i===-1){i=q.length-1}return i}function l(){if(m===q.length-1){return p()}else{++m;return k(n())}}function h(){if(m===1-q.length){return p()}else{--m;return k(g())}}function o(i){if(f.keyNext.indexOf(i.which)!==-1){i.preventDefault();l()}else{if(f.keyPrev.indexOf(i.which)!==-1){i.preventDefault();h()}else{if(f.keyClose.indexOf(i.which)!==-1){i.preventDefault();p()}}}}function p(){m=0;q.overlay.fadeOut(f.fadeOut);q.layout.fadeOut(f.fadeOut);c(document).unbind("keydown",o);return false}function k(i){if(i<0||i>q.length-1){return}j=i;q.img.attr("src",c(q[j]).attr("href"));q.imgNext.attr("src",c(q[n()]).attr("href"));q.imgPrev.attr("src",c(q[g()]).attr("href"));q.overlay.fadeIn(f.fadeIn);q.layout.fadeIn(f.fadeIn);q.layout.css({top:c(document).scrollTop()+"px",height:c(window).height()+"px"});c(document).unbind("keydown",o).bind("keydown",o);f.onopen.call(q,q[j]);return false}this.img.click(function(){return l()});this.prevBtn.click(function(){return h()});this.closeBtn.click(function(){return p()});this.closeBtn.hover(function(){c(this).css(f.closeBtnHoverCSS)},function(){c(this).css(f.closeBtnCSS)});this.prevBtn.hover(function(){c(this).css(f.prevBtnHoverCSS)},function(){c(this).css(f.prevBtnCSS)});return this.each(function(s){c(this).click(function(){return k(s)})})};var b={color:"#808080",display:"table-cell",verticalAlign:"middle",textAlign:"center",fontSize:"2em",fontWeight:"bold",cursor:"pointer",padding:".75em"},a={color:"#c0c0c0"},e={position:"absolute",top:"-10000px",width:"100px"},d={color:"#c0c0c0"};c.fn.abigimage.defaults={fadeIn:"normal",fadeOut:"fast",prevBtnHtml:"◄",closeBtnHtml:"✖",keyNext:[13,32,39,40],keyPrev:[8,37,38],keyClose:[27,35,36],onopen:function(){},overlayCSS:{backgroundColor:"#404040",opacity:0.95,zIndex:2,position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none"},layoutCSS:{zIndex:2,position:"absolute",top:0,left:0,width:"100%",margin:"0 auto",display:"none","-webkit-user-select":"none","-moz-user-select":"none","user-select":"none"},wrapperCSS:{display:"table",width:"100%",height:"100%"},boxCSS:{display:"table-row"},bodyCSS:{display:"table-cell",verticalAlign:"middle",textAlign:"center",width:"1%"},prevBtnCSS:b,prevBtnHoverCSS:a,closeBtnCSS:b,closeBtnHoverCSS:a,imgCSS:{maxWidth:"800px",cursor:"pointer",display:"block",margin:"1ex 0"},imgNextCSS:e,imgPrevCSS:e,topCSS:d,bottomCSS:d,overlayAttrs:{},layoutAttrs:{},wrapperAttrs:{},boxAttrs:{},bodyAttrs:{},prevBtnAttrs:{},closeBtnAttrs:{},imgAttrs:{},imgNextAttrs:{},imgPrevAttrs:{},topAttrs:{},bottomAttrs:{}}}(jQuery));
